{"ast":null,"code":"// import React, { useEffect, useState } from 'react'\n// import toast, { Toaster } from 'react-hot-toast';\n// import { useAuthStore } from  '../store/store'\n// import styles from '../styles/Username.module.css';\n// import { generateOTP, verifyOTP } from '../helper/helper';\n// import { useNavigate } from 'react-router-dom'\n\n// export default function Recovery() {\n\n//   const { username } = useAuthStore(state => state.auth);\n//   const [OTP, setOTP] = useState();\n//   const navigate = useNavigate()\n\n//   useEffect(() => {\n//     generateOTP(username).then((OTP) => {\n//       console.log(OTP)\n//       if(OTP) return toast.success('OTP has been send to your email!');\n//       return toast.error('Problem while generating OTP!')\n//     })\n//   }, [username]);\n\n//   async function onSubmit(e){\n//     e.preventDefault();\n//     try {\n//       let { status } = await verifyOTP({ username, code : OTP })\n//       if(status === 201){\n//         toast.success('Verify Successfully!')\n//         return navigate('/reset')\n//       }  \n//     } catch (error) {\n//       return toast.error('Wront OTP! Check email again!')\n//     }\n//   }\n\n//   // handler of resend OTP\n//   function resendOTP(){\n\n//     let sentPromise = generateOTP(username);\n\n//     toast.promise(sentPromise ,\n//       {\n//         loading: 'Sending...',\n//         success: <b>OTP has been send to your email!</b>,\n//         error: <b>Could not Send it!</b>,\n//       }\n//     );\n\n//     sentPromise.then((OTP) => {\n//       console.log(OTP)\n//     });\n\n//   }\n\n//   return (\n//     <div className=\"container mx-auto\">\n\n//       <Toaster position='top-center' reverseOrder={false}></Toaster>\n\n//       <div className='flex justify-center items-center h-screen'>\n//         <div className={styles.glass}>\n\n//           <div className=\"title flex flex-col items-center\">\n//             <h4 className='text-5xl font-bold'>Recovery</h4>\n//             <span className='py-4 text-xl w-2/3 text-center text-gray-500'>\n//                 Enter OTP to recover password.\n//             </span>\n//           </div>\n\n//           <form className='pt-20' onSubmit={onSubmit}>\n\n//               <div className=\"textbox flex flex-col items-center gap-6\">\n\n//                   <div className=\"input text-center\">\n//                     <span className='py-4 text-sm text-left text-gray-500'>\n//                       Enter 6 digit OTP sent to your email address.\n//                     </span>\n//                     <input onChange={(e) => setOTP(e.target.value) } className={styles.textbox} type=\"text\" placeholder='OTP' />\n//                   </div>\n\n//                   <button className={styles.btn} type='submit'>Recover</button>\n//               </div>\n//           </form>\n\n//           <div className=\"text-center py-4\">\n//             <span className='text-gray-500'>Can't get OTP? <button onClick={resendOTP} className='text-red-500'>Resend</button></span>\n//           </div>\n\n//         </div>\n//       </div>\n//     </div>\n//   )\n// }","map":{"version":3,"names":[],"sources":["C:/Users/prana/Desktop/login/client/src/components/Recovery.js"],"sourcesContent":["// import React, { useEffect, useState } from 'react'\r\n// import toast, { Toaster } from 'react-hot-toast';\r\n// import { useAuthStore } from  '../store/store'\r\n// import styles from '../styles/Username.module.css';\r\n// import { generateOTP, verifyOTP } from '../helper/helper';\r\n// import { useNavigate } from 'react-router-dom'\r\n\r\n// export default function Recovery() {\r\n\r\n//   const { username } = useAuthStore(state => state.auth);\r\n//   const [OTP, setOTP] = useState();\r\n//   const navigate = useNavigate()\r\n\r\n//   useEffect(() => {\r\n//     generateOTP(username).then((OTP) => {\r\n//       console.log(OTP)\r\n//       if(OTP) return toast.success('OTP has been send to your email!');\r\n//       return toast.error('Problem while generating OTP!')\r\n//     })\r\n//   }, [username]);\r\n\r\n//   async function onSubmit(e){\r\n//     e.preventDefault();\r\n//     try {\r\n//       let { status } = await verifyOTP({ username, code : OTP })\r\n//       if(status === 201){\r\n//         toast.success('Verify Successfully!')\r\n//         return navigate('/reset')\r\n//       }  \r\n//     } catch (error) {\r\n//       return toast.error('Wront OTP! Check email again!')\r\n//     }\r\n//   }\r\n\r\n//   // handler of resend OTP\r\n//   function resendOTP(){\r\n\r\n//     let sentPromise = generateOTP(username);\r\n\r\n//     toast.promise(sentPromise ,\r\n//       {\r\n//         loading: 'Sending...',\r\n//         success: <b>OTP has been send to your email!</b>,\r\n//         error: <b>Could not Send it!</b>,\r\n//       }\r\n//     );\r\n\r\n//     sentPromise.then((OTP) => {\r\n//       console.log(OTP)\r\n//     });\r\n    \r\n//   }\r\n\r\n//   return (\r\n//     <div className=\"container mx-auto\">\r\n\r\n//       <Toaster position='top-center' reverseOrder={false}></Toaster>\r\n\r\n//       <div className='flex justify-center items-center h-screen'>\r\n//         <div className={styles.glass}>\r\n\r\n//           <div className=\"title flex flex-col items-center\">\r\n//             <h4 className='text-5xl font-bold'>Recovery</h4>\r\n//             <span className='py-4 text-xl w-2/3 text-center text-gray-500'>\r\n//                 Enter OTP to recover password.\r\n//             </span>\r\n//           </div>\r\n\r\n//           <form className='pt-20' onSubmit={onSubmit}>\r\n\r\n//               <div className=\"textbox flex flex-col items-center gap-6\">\r\n\r\n//                   <div className=\"input text-center\">\r\n//                     <span className='py-4 text-sm text-left text-gray-500'>\r\n//                       Enter 6 digit OTP sent to your email address.\r\n//                     </span>\r\n//                     <input onChange={(e) => setOTP(e.target.value) } className={styles.textbox} type=\"text\" placeholder='OTP' />\r\n//                   </div>\r\n\r\n//                   <button className={styles.btn} type='submit'>Recover</button>\r\n//               </div>\r\n//           </form>\r\n\r\n//           <div className=\"text-center py-4\">\r\n//             <span className='text-gray-500'>Can't get OTP? <button onClick={resendOTP} className='text-red-500'>Resend</button></span>\r\n//           </div>\r\n\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   )\r\n// }"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}